{"remainingRequest":"/home/jenkins/jenkins-slave/workspace/Knox-1.4.0/gateway-admin-ui/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js??ref--3-1!/home/jenkins/jenkins-slave/workspace/Knox-1.4.0/gateway-admin-ui/node_modules/ng2-bs3-modal/modal/modal-service.js","dependencies":[{"path":"/home/jenkins/jenkins-slave/workspace/Knox-1.4.0/gateway-admin-ui/node_modules/ng2-bs3-modal/modal/modal-service.js","mtime":1507232018000},{"path":"/home/jenkins/jenkins-slave/workspace/Knox-1.4.0/gateway-admin-ui/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/jenkins/jenkins-slave/workspace/Knox-1.4.0/gateway-admin-ui/node_modules/@angular-devkit/build-optimizer/src/build-optimizer/webpack-loader.js","mtime":1519266497000}],"contextDependencies":[],"result":["import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs/Observable';\nimport 'rxjs/add/observable/fromEvent';\nimport 'rxjs/add/operator/filter';\nimport { BsModalHideType } from './models';\nvar EVENT_SUFFIX = 'ng2-bs3-modal';\nvar KEYUP_EVENT_NAME = \"keyup.\" + EVENT_SUFFIX;\nvar CLICK_EVENT_NAME = \"click.\" + EVENT_SUFFIX;\nvar SHOW_EVENT_NAME = \"show.bs.modal.\" + EVENT_SUFFIX;\nvar BsModalService = /*@__PURE__*/ (function () {\n    function BsModalService() {\n        var _this = this;\n        this.modals = [];\n        this.$body = jQuery(document.body);\n        this.onBackdropClose$ = Observable.fromEvent(this.$body, CLICK_EVENT_NAME)\n            .filter(function (e) { return jQuery(e.target).is('.modal'); })\n            .map(function () { return BsModalHideType.Backdrop; })\n            .share();\n        this.onKeyboardClose$ = Observable.fromEvent(this.$body, KEYUP_EVENT_NAME)\n            .filter(function (e) { return e.which === 27; })\n            .map(function () { return BsModalHideType.Keyboard; })\n            .share();\n        this.onModalStack$ = Observable.fromEvent(this.$body, SHOW_EVENT_NAME)\n            .do(function () {\n            var zIndex = 1040 + (10 * $('.modal:visible').length);\n            $(_this).css('z-index', zIndex);\n            setTimeout(function () {\n                $('.modal-backdrop').not('.modal-stack').css('z-index', zIndex - 1).addClass('modal-stack');\n            }, 0);\n        })\n            .share();\n    }\n    BsModalService.prototype.add = function (modal) {\n        this.modals.push(modal);\n    };\n    BsModalService.prototype.remove = function (modal) {\n        var index = this.modals.indexOf(modal);\n        if (index > -1)\n            this.modals.splice(index, 1);\n    };\n    BsModalService.prototype.focusNext = function () {\n        var visible = this.modals.filter(function (m) { return m.visible; });\n        if (visible.length) {\n            this.$body.addClass('modal-open');\n            visible[visible.length - 1].focus();\n        }\n    };\n    BsModalService.prototype.dismissAll = function () {\n        return Promise.all(this.modals.map(function (m) {\n            return m.dismiss();\n        }));\n    };\n    return BsModalService;\n}());\nexport { BsModalService };\n//# sourceMappingURL=modal-service.js.map \n",null]}